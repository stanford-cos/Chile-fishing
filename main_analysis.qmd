---
title: "Chile VMS Exploritory Analysis"
author: 
  - name: Althea Marks
    orcid: 0000-0002-9370-9128
    email: amarks1@stanford.edu
    affiliations:
      - name: Stanford Center for Ocean Solutions
date: "`r Sys.Date()`"
format: 
  html: 
    number-sections: true
    toc: true
    code-tools: true
    theme: cosmo 
    self-contained: true
    page-layout: full
---

```{r setup, include=FALSE}
# Code chunk setup options
knitr::opts_chunk$set(
  echo = FALSE,
  message = FALSE,
  warning = FALSE)

# libraries
library(readr)
library(tidyverse)
library(renv)

# directories
data_dir <- file.path("./data")
out_dir <- file.path("./output")
scripts_dir <- file.path("./scripts")

# load functions
source(file.path(scripts_dir, "functions.R"))
```

# Chile Easter Island AIS Fishing Effort

```{r get_marine_boundaries_easter_island}
source(file.path(scripts_dir, "easter_island_geometry.R"))
```   

```{r analysis_easter_island}
easter_data <- read_csv(file.path(data_dir, "gfw_fish_events_easter_isl_2023-01-01_2023-06-30.csv"))

easter_summary <- easter_data |> 
  group_by(best_flag, best_vessel_class) |> 
  summarise(total_fishing_hrs = sum(fishing_hours),
            total_vessel_n = length(unique(ssvid)))
```

2023 January 1st - June 30th there were `r sum(easter_summary$total_vessel_n)` vessels that fished within Easter Island's EEZ boundary for a total of `r sum(easter_summary$total_fishing_hrs)` hours.

# Fishing Hours Heat Map

Using GFW map is the best option for large amounts of data.
